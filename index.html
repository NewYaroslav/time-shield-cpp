<!-- HTML header for doxygen 1.11.0-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Time Shield Library: Time Shield Library</title>
<link rel="icon" href="icon-64x64.png" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript">
	DoxygenAwesomeDarkModeToggle.init()
	DoxygenAwesomeParagraphLink.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Time Shield Library
   </div>
   <div id="projectbrief">C++ library for working with time</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('index.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Time Shield Library </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><b>Version:</b> <code>1.0.3</code></p>
<h1><a class="anchor" id="intro_sec"></a>
Introduction</h1>
<p>The Time Shield Library is a comprehensive C++ library designed for time manipulation, formatting, and conversion. It was built for practical and engineering tasks, especially in constrained or performance-critical environments.</p>
<h1><a class="anchor" id="motivation_sec"></a>
Why Time Shield?</h1>
<p>Unlike <code>std::chrono</code> or more academic libraries like <code>HowardHinnant/date</code>, Time Shield is designed to be simple, portable, and suitable for scenarios like logging, serialization, MQL5 usage, and date/time formatting.</p>
<ul>
<li>Uses simple types (<code>int64_t</code>, <code>double</code>) like <code>ts_t</code>, <code>fts_t</code> for timestamps — easy to serialize and store.</li>
<li>Supports multiple time representations: Unix, floating-point seconds, ms/us precision, OLE Automation, Julian dates.</li>
<li>Includes utilities for rounding, ISO8601 formatting/parsing, time parts, and boundary calculations.</li>
<li>Header-only and cross-platform; most modules require only STL and <code>&lt;cstdint&gt;</code>.</li>
<li>MQL5-compatible — does not use exceptions, STL containers, or dynamic memory.</li>
<li>Modules requiring platform-specific APIs (like <code>NtpClient</code>) are isolated and optional.</li>
</ul>
<h1><a class="anchor" id="features_sec"></a>
Features</h1>
<ul>
<li>Validation of dates and times (including weekend and workday predicates)</li>
<li>Time and date formatting (standard and custom)</li>
<li>Time zone conversion functions</li>
<li>ISO8601 string parsing</li>
<li>Utilities for time manipulation and conversion</li>
</ul>
<h1><a class="anchor" id="config_sec"></a>
Configuration</h1>
<p>Compile-time macros in <code><a class="el" href="config_8hpp.html" title="Configuration macros for the library.">time_shield/config.hpp</a></code> allow adapting the library to the target platform and toggling optional modules:</p>
<ul>
<li><code>TIME_SHIELD_PLATFORM_WINDOWS</code> / <code>TIME_SHIELD_PLATFORM_UNIX</code> — platform detection.</li>
<li><code>TIME_SHIELD_HAS_WINSOCK</code> — WinSock availability.</li>
<li><code>TIME_SHIELD_ENABLE_NTP_CLIENT</code> — builds the NTP client when set to <code>1</code>.</li>
</ul>
<p>All public symbols are declared inside the <code><a class="el" href="namespacetime__shield.html" title="Main namespace for the Time Shield library.">time_shield</a></code> namespace.</p>
<h1><a class="anchor" id="invariants_sec"></a>
API Invariants</h1>
<ul>
<li><code>ts_t</code> represents Unix time in seconds as a signed 64-bit integer with microsecond precision available through conversions.</li>
<li><code>fts_t</code> stores time as double precision seconds; conversions maintain microsecond accuracy.</li>
<li>ISO8601 parsing assumes the proleptic Gregorian calendar without leap seconds.</li>
<li>Functions avoid throwing exceptions and use no dynamic memory internally; utilities returning <code>std::string</code> rely on the caller for allocations.</li>
</ul>
<h1><a class="anchor" id="examples_sec"></a>
Examples</h1>
<p>Here is a simple demonstration:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="time__shield_8hpp.html">time_shield.hpp</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="ntp__client__example_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a>() {</div>
<div class="line">    <a class="code hl_typedef" href="group__time__types.html#ga183c70b9c541a395d47690a82cdad282">time_shield::ts_t</a> current_ts = <a class="code hl_function" href="group__time__utils.html#ga450be3ba3ddf294da4c9bc4cd01f8216">time_shield::timestamp</a>();</div>
<div class="line">    <a class="code hl_typedef" href="group__time__types.html#ga183c70b9c541a395d47690a82cdad282">time_shield::ts_t</a> future_ts = <a class="code hl_function" href="group__time__conversions.html#ga4b014df371dd3893a34ed1c6208b3e6b">time_shield::end_of_year</a>(current_ts);</div>
<div class="line">    <span class="keywordtype">int</span> days = <a class="code hl_function" href="group__time__conversions.html#ga275388104b9fce8bfd98d64e164e2fa3">time_shield::get_days_difference</a>(current_ts, future_ts);</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Days until end of year: &quot;</span> &lt;&lt; days &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">    std::string formatted_time = time_shield::to_iso8601_str(future_ts);</div>
<div class="line">    <a class="code hl_typedef" href="group__time__types.html#ga4f03438f0a251af75f1ac8eaa3a9eaad">time_shield::ts_ms_t</a> ts_ms = 0;</div>
<div class="line">    <span class="keywordflow">if</span> (!<a class="code hl_function" href="group__time__parsing.html#ga19efc9e116c70cea51d5d07e36ec499f">time_shield::str_to_ts_ms</a>(formatted_time, ts_ms)) {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Error occurred while parsing ISO8601 string&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    formatted_time = <a class="code hl_function" href="group__time__formatting.html#ga9d3e0a17160922a28d13c943116d6ad8">time_shield::to_iso8601_utc_ms</a>(ts_ms);</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Future time: &quot;</span> &lt;&lt; formatted_time &lt;&lt; std::endl;</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="agroup__time__conversions_html_ga275388104b9fce8bfd98d64e164e2fa3"><div class="ttname"><a href="group__time__conversions.html#ga275388104b9fce8bfd98d64e164e2fa3">time_shield::get_days_difference</a></div><div class="ttdeci">constexpr T get_days_difference(ts_t start, ts_t stop) noexcept</div><div class="ttdoc">Alias for days_between function.</div><div class="ttdef"><b>Definition</b> <a href="time__conversion__aliases_8hpp_source.html#l01507">time_conversion_aliases.hpp:1507</a></div></div>
<div class="ttc" id="agroup__time__conversions_html_ga4b014df371dd3893a34ed1c6208b3e6b"><div class="ttname"><a href="group__time__conversions.html#ga4b014df371dd3893a34ed1c6208b3e6b">time_shield::end_of_year</a></div><div class="ttdeci">TIME_SHIELD_CONSTEXPR ts_t end_of_year(ts_t ts=time_shield::ts())</div><div class="ttdoc">Get the end-of-year timestamp.</div><div class="ttdef"><b>Definition</b> <a href="time__conversions_8hpp_source.html#l01229">time_conversions.hpp:1229</a></div></div>
<div class="ttc" id="agroup__time__formatting_html_ga9d3e0a17160922a28d13c943116d6ad8"><div class="ttname"><a href="group__time__formatting.html#ga9d3e0a17160922a28d13c943116d6ad8">time_shield::to_iso8601_utc_ms</a></div><div class="ttdeci">const std::string to_iso8601_utc_ms(ts_ms_t ts_ms)</div><div class="ttdoc">Converts a timestamp in milliseconds to an ISO8601 string in UTC format.</div><div class="ttdef"><b>Definition</b> <a href="time__formatting_8hpp_source.html#l00682">time_formatting.hpp:682</a></div></div>
<div class="ttc" id="agroup__time__parsing_html_ga19efc9e116c70cea51d5d07e36ec499f"><div class="ttname"><a href="group__time__parsing.html#ga19efc9e116c70cea51d5d07e36ec499f">time_shield::str_to_ts_ms</a></div><div class="ttdeci">bool str_to_ts_ms(const std::string &amp;str, ts_ms_t &amp;ts)</div><div class="ttdoc">Convert an ISO8601 string to a millisecond timestamp (ts_ms_t).</div><div class="ttdef"><b>Definition</b> <a href="time__parser_8hpp_source.html#l00824">time_parser.hpp:824</a></div></div>
<div class="ttc" id="agroup__time__types_html_ga183c70b9c541a395d47690a82cdad282"><div class="ttname"><a href="group__time__types.html#ga183c70b9c541a395d47690a82cdad282">time_shield::ts_t</a></div><div class="ttdeci">int64_t ts_t</div><div class="ttdoc">Unix timestamp in seconds since 1970‑01‑01T00:00:00Z.</div><div class="ttdef"><b>Definition</b> <a href="types_8hpp_source.html#l00046">types.hpp:46</a></div></div>
<div class="ttc" id="agroup__time__types_html_ga4f03438f0a251af75f1ac8eaa3a9eaad"><div class="ttname"><a href="group__time__types.html#ga4f03438f0a251af75f1ac8eaa3a9eaad">time_shield::ts_ms_t</a></div><div class="ttdeci">int64_t ts_ms_t</div><div class="ttdoc">Unix timestamp in milliseconds since epoch.</div><div class="ttdef"><b>Definition</b> <a href="types_8hpp_source.html#l00047">types.hpp:47</a></div></div>
<div class="ttc" id="agroup__time__utils_html_ga450be3ba3ddf294da4c9bc4cd01f8216"><div class="ttname"><a href="group__time__utils.html#ga450be3ba3ddf294da4c9bc4cd01f8216">time_shield::timestamp</a></div><div class="ttdeci">ts_t timestamp() noexcept</div><div class="ttdoc">Get the current UTC timestamp in seconds.</div><div class="ttdef"><b>Definition</b> <a href="time__utils_8hpp_source.html#l00181">time_utils.hpp:181</a></div></div>
<div class="ttc" id="antp__client__example_8cpp_html_ae66f6b31b5ad750f1fe042a706a4e3d4"><div class="ttname"><a href="ntp__client__example_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a></div><div class="ttdeci">int main()</div><div class="ttdef"><b>Definition</b> <a href="ntp__client__example_8cpp_source.html#l00017">ntp_client_example.cpp:17</a></div></div>
<div class="ttc" id="atime__shield_8hpp_html"><div class="ttname"><a href="time__shield_8hpp.html">time_shield.hpp</a></div><div class="ttdoc">Main header file for the Time Shield library.</div></div>
</div><!-- fragment --><p>Additional example files are located in the <code>examples/</code> folder:</p>
<ul>
<li><code><a class="el" href="time__utils__example_8cpp.html" title="Demonstrates functions from time_shield::time_utils.">time_utils_example.cpp</a></code> — get timestamps and parts</li>
<li><code><a class="el" href="time__formatting__example_8cpp.html" title="Demonstrates functions from time_shield::time_formatting.">time_formatting_example.cpp</a></code> — to_string, ISO8601, MQL5</li>
<li><code><a class="el" href="time__parser__example_8cpp.html" title="Demonstrates functions from time_shield::time_parser.">time_parser_example.cpp</a></code> — parse ISO8601</li>
<li><code><a class="el" href="time__conversions__example_8cpp.html" title="Demonstrates functions from time_shield::time_conversions.">time_conversions_example.cpp</a></code> — convert between formats</li>
<li><code><a class="el" href="time__zone__conversions__example_8cpp.html" title="Demonstrates functions from time_shield::time_zone_conversions.">time_zone_conversions_example.cpp</a></code> — CET/EET ↔ GMT</li>
<li><code><a class="el" href="ntp__client__example_8cpp.html" title="Demonstrates usage of time_shield::NtpClient.">ntp_client_example.cpp</a></code> — NTP sync (sockets)</li>
</ul>
<h2><a class="anchor" id="workday_helpers"></a>
Workday helpers</h2>
<p>Check whether a moment falls on a business day using timestamps, calendar components, or ISO8601 strings:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="validation_8hpp.html">time_shield/validation.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="time__parser_8hpp.html">time_shield/time_parser.hpp</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespacetime__shield.html">time_shield</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">bool</span> monday = <a class="code hl_function" href="group__time__parsing.html#ga7b5485ad9822b92142e46ea3e5cfa8a6">is_workday</a>(1710720000);                    <span class="comment">// Unix seconds (2024-03-18)</span></div>
<div class="line"><span class="keywordtype">bool</span> monday_ms = <a class="code hl_function" href="group__time__parsing.html#gafc03d50dac6de386bac6e9a816819fc5">is_workday_ms</a>(<span class="stringliteral">&quot;2024-03-18T09:00:00.250Z&quot;</span>); <span class="comment">// ISO8601 with milliseconds</span></div>
<div class="line"><span class="keywordtype">bool</span> from_date = <a class="code hl_function" href="group__time__parsing.html#ga7b5485ad9822b92142e46ea3e5cfa8a6">is_workday</a>(2024, 3, 18);                 <span class="comment">// year, month, day components</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Parsing failure or a weekend evaluates to false</span></div>
<div class="line"><span class="keywordtype">bool</span> saturday = <a class="code hl_function" href="group__time__parsing.html#ga7b5485ad9822b92142e46ea3e5cfa8a6">is_workday</a>(<span class="stringliteral">&quot;2024-03-16T10:00:00Z&quot;</span>);</div>
<div class="line"><span class="keywordtype">bool</span> invalid = <a class="code hl_function" href="group__time__parsing.html#ga7b5485ad9822b92142e46ea3e5cfa8a6">is_workday</a>(<span class="stringliteral">&quot;not-a-date&quot;</span>);</div>
<div class="ttc" id="agroup__time__parsing_html_ga7b5485ad9822b92142e46ea3e5cfa8a6"><div class="ttname"><a href="group__time__parsing.html#ga7b5485ad9822b92142e46ea3e5cfa8a6">time_shield::is_workday</a></div><div class="ttdeci">bool is_workday(const std::string &amp;str)</div><div class="ttdoc">Parse ISO8601 string and check if it falls on a workday (seconds precision).</div><div class="ttdef"><b>Definition</b> <a href="time__parser_8hpp_source.html#l00881">time_parser.hpp:881</a></div></div>
<div class="ttc" id="agroup__time__parsing_html_gafc03d50dac6de386bac6e9a816819fc5"><div class="ttname"><a href="group__time__parsing.html#gafc03d50dac6de386bac6e9a816819fc5">time_shield::is_workday_ms</a></div><div class="ttdeci">bool is_workday_ms(const std::string &amp;str)</div><div class="ttdoc">Parse ISO8601 string and check if it falls on a workday (milliseconds precision).</div><div class="ttdef"><b>Definition</b> <a href="time__parser_8hpp_source.html#l00888">time_parser.hpp:888</a></div></div>
<div class="ttc" id="anamespacetime__shield_html"><div class="ttname"><a href="namespacetime__shield.html">time_shield</a></div><div class="ttdoc">Main namespace for the Time Shield library.</div></div>
<div class="ttc" id="atime__parser_8hpp_html"><div class="ttname"><a href="time__parser_8hpp.html">time_parser.hpp</a></div><div class="ttdoc">Header file with functions for parsing dates and times in ISO8601 format and converting them to vario...</div></div>
<div class="ttc" id="avalidation_8hpp_html"><div class="ttname"><a href="validation_8hpp.html">validation.hpp</a></div><div class="ttdoc">Header file with time-related validation functions.</div></div>
</div><!-- fragment --><p>Locate the first and last trading days for a month and constrain schedules to the opening or closing workdays:</p>
<div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespacetime__shield.html">time_shield</a>;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_typedef" href="group__time__types.html#ga183c70b9c541a395d47690a82cdad282">ts_t</a> june28 = <a class="code hl_function" href="group__time__conversions.html#gaa22417854ef7b6d194457894223550a2">to_timestamp</a>(2024, 6, 28);</div>
<div class="line"><span class="keywordtype">bool</span> is_last = <a class="code hl_function" href="group__time__conversions.html#ga4de4212bb4dc77ddeee3500110eaefe8">is_last_workday_of_month</a>(june28);                 <span class="comment">// true (Friday before a weekend)</span></div>
<div class="line"><span class="keywordtype">bool</span> in_last_two = <a class="code hl_function" href="group__time__conversions.html#ga7b9b1b808aba917b3f6cd6d20360bd10">is_within_last_workdays_of_month</a>(june28, 2);  <span class="comment">// true for the final two workdays</span></div>
<div class="line"><span class="keywordtype">bool</span> in_first_two = <a class="code hl_function" href="group__time__conversions.html#ga3605531aaea69c09dd58d55c4a71df85">is_within_first_workdays_of_month</a>(june28, 2);<span class="comment">// false, trailing end of month</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">bool</span> first_from_str = <a class="code hl_function" href="group__time__conversions.html#ga592d9e7b90284fcb948334ddf74aa7c8">is_first_workday_of_month</a>(<span class="stringliteral">&quot;2024-09-02T09:00:00Z&quot;</span>);</div>
<div class="line"><span class="keywordtype">bool</span> window_from_str = <a class="code hl_function" href="group__time__conversions.html#ga426fa2af1004b2821af52dcbeee9ce83">is_within_first_workdays_of_month_ms</a>(</div>
<div class="line">    <span class="stringliteral">&quot;2024-09-03T09:00:00.250Z&quot;</span>, 2);</div>
<div class="ttc" id="agroup__time__conversions_html_ga3605531aaea69c09dd58d55c4a71df85"><div class="ttname"><a href="group__time__conversions.html#ga3605531aaea69c09dd58d55c4a71df85">time_shield::is_within_first_workdays_of_month</a></div><div class="ttdeci">TIME_SHIELD_CONSTEXPR bool is_within_first_workdays_of_month(year_t year, int month, int day, int count) noexcept</div><div class="ttdoc">Check whether a date is within the first N workdays of its month.</div><div class="ttdef"><b>Definition</b> <a href="time__conversions_8hpp_source.html#l01515">time_conversions.hpp:1515</a></div></div>
<div class="ttc" id="agroup__time__conversions_html_ga426fa2af1004b2821af52dcbeee9ce83"><div class="ttname"><a href="group__time__conversions.html#ga426fa2af1004b2821af52dcbeee9ce83">time_shield::is_within_first_workdays_of_month_ms</a></div><div class="ttdeci">TIME_SHIELD_CONSTEXPR bool is_within_first_workdays_of_month_ms(ts_ms_t ts_ms, int count) noexcept</div><div class="ttdoc">Check whether a timestamp in milliseconds falls within the first N workdays of its month.</div><div class="ttdef"><b>Definition</b> <a href="time__conversions_8hpp_source.html#l01611">time_conversions.hpp:1611</a></div></div>
<div class="ttc" id="agroup__time__conversions_html_ga4de4212bb4dc77ddeee3500110eaefe8"><div class="ttname"><a href="group__time__conversions.html#ga4de4212bb4dc77ddeee3500110eaefe8">time_shield::is_last_workday_of_month</a></div><div class="ttdeci">TIME_SHIELD_CONSTEXPR bool is_last_workday_of_month(year_t year, int month, int day) noexcept</div><div class="ttdoc">Check whether a date is the last workday of its month.</div><div class="ttdef"><b>Definition</b> <a href="time__conversions_8hpp_source.html#l01534">time_conversions.hpp:1534</a></div></div>
<div class="ttc" id="agroup__time__conversions_html_ga592d9e7b90284fcb948334ddf74aa7c8"><div class="ttname"><a href="group__time__conversions.html#ga592d9e7b90284fcb948334ddf74aa7c8">time_shield::is_first_workday_of_month</a></div><div class="ttdeci">TIME_SHIELD_CONSTEXPR bool is_first_workday_of_month(year_t year, int month, int day) noexcept</div><div class="ttdoc">Check whether a date is the first workday of its month.</div><div class="ttdef"><b>Definition</b> <a href="time__conversions_8hpp_source.html#l01503">time_conversions.hpp:1503</a></div></div>
<div class="ttc" id="agroup__time__conversions_html_ga7b9b1b808aba917b3f6cd6d20360bd10"><div class="ttname"><a href="group__time__conversions.html#ga7b9b1b808aba917b3f6cd6d20360bd10">time_shield::is_within_last_workdays_of_month</a></div><div class="ttdeci">TIME_SHIELD_CONSTEXPR bool is_within_last_workdays_of_month(year_t year, int month, int day, int count) noexcept</div><div class="ttdoc">Check whether a date is within the last N workdays of its month.</div><div class="ttdef"><b>Definition</b> <a href="time__conversions_8hpp_source.html#l01546">time_conversions.hpp:1546</a></div></div>
<div class="ttc" id="agroup__time__conversions_html_gaa22417854ef7b6d194457894223550a2"><div class="ttname"><a href="group__time__conversions.html#gaa22417854ef7b6d194457894223550a2">time_shield::to_timestamp</a></div><div class="ttdeci">TIME_SHIELD_CONSTEXPR ts_t to_timestamp(const T &amp;date_time)</div><div class="ttdoc">Alias for dt_to_timestamp function.</div><div class="ttdef"><b>Definition</b> <a href="time__conversion__aliases_8hpp_source.html#l00729">time_conversion_aliases.hpp:729</a></div></div>
</div><!-- fragment --><p>The string overloads recognise the same ISO8601 formats handled by <a class="el" href="group__time__parsing.html#gad29621998c077452dcc57a51f413b9ce">str_to_ts</a> and <a class="el" href="group__time__parsing.html#ga19efc9e116c70cea51d5d07e36ec499f">str_to_ts_ms</a>.</p>
<p>Locate the boundaries of the first and last workdays when preparing trading windows or settlement cutoffs:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="time__conversions_8hpp.html">time_shield/time_conversions.hpp</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespacetime__shield.html">time_shield</a>;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_typedef" href="group__time__types.html#ga183c70b9c541a395d47690a82cdad282">ts_t</a> first_open = <a class="code hl_function" href="group__time__conversions.html#gaf61617ddf54e11ea6eb72214e9f00dbe">start_of_first_workday_month</a>(2024, Month::JUN);    <span class="comment">// 2024-06-03T00:00:00Z</span></div>
<div class="line"><a class="code hl_typedef" href="group__time__types.html#ga183c70b9c541a395d47690a82cdad282">ts_t</a> first_close = <a class="code hl_function" href="group__time__conversions.html#ga2589ae41d03e3a0969fa812e3a293f45">end_of_first_workday_month</a>(2024, 6);              <span class="comment">// 2024-06-03T23:59:59Z</span></div>
<div class="line"><a class="code hl_typedef" href="group__time__types.html#ga183c70b9c541a395d47690a82cdad282">ts_t</a> last_open = <a class="code hl_function" href="group__time__conversions.html#gaca0a0f1a4c6cfa1908c0b5305bc3438f">start_of_last_workday_month</a>(2024, 3);               <span class="comment">// 2024-03-29T00:00:00Z</span></div>
<div class="line"><a class="code hl_typedef" href="group__time__types.html#ga4f03438f0a251af75f1ac8eaa3a9eaad">ts_ms_t</a> last_close_ms = <a class="code hl_function" href="group__time__conversions.html#ga1d15b784c91c261495e043402ac371dc">end_of_last_workday_month_ms</a>(2024, Month::MAR); <span class="comment">// 2024-03-29T23:59:59.999Z</span></div>
<div class="ttc" id="agroup__time__conversions_html_ga1d15b784c91c261495e043402ac371dc"><div class="ttname"><a href="group__time__conversions.html#ga1d15b784c91c261495e043402ac371dc">time_shield::end_of_last_workday_month_ms</a></div><div class="ttdeci">TIME_SHIELD_CONSTEXPR ts_ms_t end_of_last_workday_month_ms(year_t year, int month) noexcept</div><div class="ttdoc">End of the last workday of a month (milliseconds).</div><div class="ttdef"><b>Definition</b> <a href="time__conversions_8hpp_source.html#l01969">time_conversions.hpp:1969</a></div></div>
<div class="ttc" id="agroup__time__conversions_html_ga2589ae41d03e3a0969fa812e3a293f45"><div class="ttname"><a href="group__time__conversions.html#ga2589ae41d03e3a0969fa812e3a293f45">time_shield::end_of_first_workday_month</a></div><div class="ttdeci">TIME_SHIELD_CONSTEXPR ts_t end_of_first_workday_month(year_t year, int month) noexcept</div><div class="ttdoc">End of the first workday of a month (seconds).</div><div class="ttdef"><b>Definition</b> <a href="time__conversions_8hpp_source.html#l01863">time_conversions.hpp:1863</a></div></div>
<div class="ttc" id="agroup__time__conversions_html_gaca0a0f1a4c6cfa1908c0b5305bc3438f"><div class="ttname"><a href="group__time__conversions.html#gaca0a0f1a4c6cfa1908c0b5305bc3438f">time_shield::start_of_last_workday_month</a></div><div class="ttdeci">TIME_SHIELD_CONSTEXPR ts_t start_of_last_workday_month(year_t year, int month) noexcept</div><div class="ttdoc">Start of the last workday of a month (seconds).</div><div class="ttdef"><b>Definition</b> <a href="time__conversions_8hpp_source.html#l01910">time_conversions.hpp:1910</a></div></div>
<div class="ttc" id="agroup__time__conversions_html_gaf61617ddf54e11ea6eb72214e9f00dbe"><div class="ttname"><a href="group__time__conversions.html#gaf61617ddf54e11ea6eb72214e9f00dbe">time_shield::start_of_first_workday_month</a></div><div class="ttdeci">TIME_SHIELD_CONSTEXPR ts_t start_of_first_workday_month(year_t year, int month) noexcept</div><div class="ttdoc">Start of the first workday of a month (seconds).</div><div class="ttdef"><b>Definition</b> <a href="time__conversions_8hpp_source.html#l01817">time_conversions.hpp:1817</a></div></div>
<div class="ttc" id="atime__conversions_8hpp_html"><div class="ttname"><a href="time__conversions_8hpp.html">time_conversions.hpp</a></div><div class="ttdoc">Header file for time conversion functions.</div></div>
</div><!-- fragment --><p>These helpers follow the same semantics as <a class="el" href="group__time__conversions.html#ga9645c1e5b43e602c456bd297c78e7f4b">start_of_day</a> and <a class="el" href="group__time__conversions.html#ga6652d1b0777fce93ca2beb4f4589c684">end_of_day</a>, returning UTC timestamps. Invalid month inputs or months without workdays yield <a class="el" href="group__time__constants.html#ga1844be7ac6c1c9af10a78f801eae3dca">ERROR_TIMESTAMP</a> to simplify validation.</p>
<h1><a class="anchor" id="install_sec"></a>
Installation</h1>
<h2><a class="anchor" id="install_pkg"></a>
Install and <code>find_package</code></h2>
<p>After installing the library (e.g., via <code>cmake --install</code>), locate it with <code>find_package</code>:</p>
<div class="fragment"><div class="line">cmake_minimum_required(VERSION 3.15)</div>
<div class="line">project(app LANGUAGES CXX)</div>
<div class="line"> </div>
<div class="line">find_package(TimeShield CONFIG REQUIRED)</div>
<div class="line"> </div>
<div class="line">add_executable(app main.cpp)</div>
<div class="line">target_link_libraries(app PRIVATE time_shield::time_shield)</div>
</div><!-- fragment --><h2><a class="anchor" id="install_submodule"></a>
Git submodule with <code>add_subdirectory</code></h2>
<p>Vendor the library as a submodule:</p>
<div class="fragment"><div class="line">git submodule add https://github.com/NewYaroslav/time-shield-cpp external/time-shield-cpp</div>
</div><!-- fragment --><p>Then include it:</p>
<div class="fragment"><div class="line">add_subdirectory(external/time-shield-cpp)</div>
<div class="line"> </div>
<div class="line">add_executable(app main.cpp)</div>
<div class="line">target_link_libraries(app PRIVATE time_shield::time_shield)</div>
</div><!-- fragment --><h2><a class="anchor" id="install_vcpkg"></a>
vcpkg overlay</h2>
<p>Install via a local overlay port:</p>
<div class="fragment"><div class="line">vcpkg install time-shield-cpp --overlay-ports=./vcpkg-overlay/ports</div>
</div><!-- fragment --><p>Use the vcpkg toolchain when configuring CMake:</p>
<div class="fragment"><div class="line">cmake -B build -S . -DCMAKE_TOOLCHAIN_FILE=/path/to/vcpkg/scripts/buildsystems/vcpkg.cmake</div>
</div><!-- fragment --><p>The port is intended to be upstreamed to microsoft/vcpkg.</p>
<p>For MQL5/MetaTrader, run <code>install_mql5.bat</code> to copy the <code>.mqh</code> files to your include directory.</p>
<p>To build the C++ examples use the helper scripts:</p>
<ul>
<li><code>build-examples.bat</code> for Windows</li>
<li><code>build_examples.sh</code> for Linux/macOS</li>
<li><code>build-cb.bat</code> to generate a Code::Blocks project</li>
</ul>
<h1><a class="anchor" id="tested_sec"></a>
Tested Platforms</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Platform   </th><th class="markdownTableHeadNone">Compilers   </th><th class="markdownTableHeadNone">C++ Standards    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Windows   </td><td class="markdownTableBodyNone">MSVC, ClangCL   </td><td class="markdownTableBodyNone">11, 14, 17    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Linux   </td><td class="markdownTableBodyNone">GCC, Clang   </td><td class="markdownTableBodyNone">11, 14, 17    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">macOS   </td><td class="markdownTableBodyNone">Apple Clang   </td><td class="markdownTableBodyNone">11, 14, 17   </td></tr>
</table>
<h1><a class="anchor" id="docs_sec"></a>
Online Documentation</h1>
<p>The latest generated API reference is available at newyaroslav.github.io/time-shield-cpp.</p>
<h1><a class="anchor" id="repo_sec"></a>
Repository</h1>
<p><a href="https://github.com/NewYaroslav/time-shield-cpp">Time Shield Library GitHub repository</a></p>
<h1><a class="anchor" id="license_sec"></a>
License</h1>
<p>This library is licensed under the MIT License. See the LICENSE file for more details. </p>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"></a>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
